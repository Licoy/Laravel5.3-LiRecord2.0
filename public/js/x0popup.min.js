/* x0popup - v0.1.1 | http://gao-sun.github.io/x0popup */
"use strict";var x0popup,x0p,x0pDefaultConfig={title:"Message",text:null,theme:"default",overlay:!0,width:"90%",height:"50%",maxWidth:"450px",maxHeight:"200px",type:"text",icon:null,iconURL:null,inputType:null,inputValue:null,inputPlaceholder:null,inputColor:null,inputValidator:null,showCancelButton:null,buttons:null,autoClose:null,html:!1,animation:!0,animationType:"pop",overlayAnimation:!0};x0popup=x0p=function(){function t(){var t="";return t+="width: "+x.width+";",t+="height: "+x.height+";",null!=x.maxWidth&&(t+="max-width: "+x.maxWidth+";"),null!=x.maxHeight&&(t+="max-height: "+x.maxHeight+";"),x.animation&&(t+="-webkit-animation-name: x0p"+x.animationType+"; animation-name: x0p"+x.animationType+";"),!x.overlay&&(t+="outline: 1px solid #ddd"),t}function n(){var t="",n=null==x.icon?x.type:x.icon;switch(t+='<div class="icon-wrapper">',n){case"ok":t+='<i class="xi xi-ok"><span class="xi-ok-left"></span><span class="xi-ok-right"></span></i>';break;case"error":t+='<i class="xi xi-error"><span class="xi-error-left"></span><span class="xi-error-right"></span></i>';break;case"info":t+='<i class="xi xi-info"><span class="xi-info-circle"></span><span class="xi-info-line"></span></i>';break;case"warning":t+='<i class="xi xi-warning"><span class="xi-warning-circle"></span><span class="xi-warning-line"></span></i>';break;case"custom":t+='<i class="xi" style="background: url(\''+x.iconURL+"') no-repeat center center; background-size: 100% 100%;\"></i>"}return t+="</div>"}function e(){var t="";if(c=x.buttons,null==c&&(c=[],1!=x.showCancelButton&&(0==x.showCancelButton||"warning"!=x.type&&"input"!=x.type)||c.push({type:"cancel"}),"text"==x.type||"input"==x.type?c.push({type:"info"}):c.push({type:x.type})),0==c.length)return"";var n=c.length,e="width: "+(100/n).toFixed(2)+"%; width: calc(100% / "+n+");";t+='<div id="x0p-buttons" class="buttons">';for(var i=0;i<c.length;++i){var l=c[i];t+='<div id="x0p-button-'+i+'" class="button button-'+l.type+'" style="'+e+'">'+r(l)+"</div>"}return t+="</div>"}function i(t){var n=document.getElementById(t);null!=n&&n.parentNode.removeChild(n)}function l(){i("x0popup"),i("x0p-overlay")}function a(){var t=document.getElementById("x0p-buttons");t.innerHTML='<div class="x0l"><div class="ball ball-4"></div><div class="ball ball-3"></div><div class="ball ball-2"></div><div class="ball ball-1"></div></div>'}function o(){for(var t=0;t<c.length;++t){var n=document.getElementById("x0p-button-"+t);!function(t,e){n.addEventListener("click",function(){u(t,e)})}(c[t].type,c[t].showLoading)}}function u(t,n){var e=document.getElementById("x0popup");if(null!=e){var o=document.getElementById("x0p-input");if("cancel"!=t&&null!=g&&null!=o&&null!=x.inputValidator){var u=x.inputValidator(t,o.value);if(null!=u){i("x0p-input-error");var r=document.getElementById("x0p-text-anchor");return void r.insertAdjacentHTML("beforeend",'<div id="x0p-input-error" class="error">'+u+"</div>")}}clearTimeout(m),1==n?a():l(),null!=v&&v(t,null==o?null:o.value)}}function r(t){if(t.hasOwnProperty("text"))return t.text;switch(t.type){case"ok":case"error":case"info":return"OK";case"warning":return"Confirm";case"cancel":return"Cancel"}return"Button"}function s(){var t=x.inputColor;return null==t?"":"<style>#x0p-input:focus { border-color:"+t+"; color:"+t+"; }</style>"}function p(t){var n=document.createElement("div");return n.innerText=n.textContent=t,t=n.innerHTML}var c,d=arguments[0],v=null,x=JSON.parse(JSON.stringify(x0pDefaultConfig)),m=null;if("string"==typeof d)x.title=arguments[0],void 0!=arguments[1]&&(x.text=arguments[1]),void 0!=arguments[2]&&(x.type=arguments[2]),void 0!=arguments[3]&&("boolean"==typeof arguments[3]?x.overlayAnimation=arguments[3]:v=arguments[3]);else{for(var f in d)x[f]=d[f];void 0!=arguments[1]&&(v=arguments[1])}var y="",h=null==x.icon&&("text"==x.type||"input"==x.type),g=null!=x.inputType?x.inputType:"input"==x.type?"text":null,b=null==x.inputValue?"":x.inputValue,w=null==x.inputPlaceholder?"":x.inputPlaceholder,C=e();x.overlay&&(y+='<div id="x0p-overlay" class="x0p-overlay'+(x.animation&&x.overlayAnimation?"":" no-animation")+'"></div>'),y+='<div id="x0popup" class="x0p '+x.theme+(0==x.animation?" no-animation":"")+(0==c.length?" no-button":"")+'" style="'+t()+'">',y+='<div class="content">',y+=h?'<div class="text-pure-wrapper">':n()+'<div class="text-wrapper">',y+='<div id="x0p-text-anchor" class="text-anchor">',y+='<div class="title">'+x.title+"</div>",null!=x.text&&(y+='<div class="text">'+(x.html?x.text:p(x.text))+"</div>"),null!=g&&(y+='<div class="input">'+s()+'<input id="x0p-input" type="'+g+'" placeholder="'+w+'" value="'+b+'"></div>'),y+="</div>",y+="</div>",y+="</div>",y+=C,y+="</div>",l();var T=document.getElementsByTagName("body");T[0].insertAdjacentHTML("beforeend",y);var k=document.getElementById("x0p-input");null!=g&&k.focus(),o(),null!=x.autoClose&&(m=setTimeout(function(){u("timeout")},x.autoClose))},x0popup.setDefault=x0p.setDefault=function(){var t=arguments[0];for(var n in t)x0pDefaultConfig[n]=t[n]};